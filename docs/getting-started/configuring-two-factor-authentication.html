

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>配置双因素身份验证 &mdash; npm-docs 6.9.1 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="恢复已启用2FA的帐户" href="recovering-your-2fa-enabled-account.html" />
    <link rel="prev" title="关于双因素身份验证" href="about-two-factor-authentication.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> npm-docs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about-npm.html">关于npm</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">入门</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#setting-up-your-npm-user-account">设置您的npm用户帐户</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="creating-a-new-npm-user-account.html">恢复已启用2FA的帐户</a></li>
<li class="toctree-l3"><a class="reference internal" href="about-two-factor-authentication.html">关于双因素身份验证</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">配置双因素身份验证</a></li>
<li class="toctree-l3"><a class="reference internal" href="recovering-your-2fa-enabled-account.html">恢复已启用2FA的帐户</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#paying-for-your-npm-user-account">支付您的npm用户帐户</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#managing-your-npm-user-account">管理您的npm用户帐户</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#configuring-your-local-environment">配置本地环境</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#troubleshooting">故障排除</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../packages-and-modules/index.html">包和模块</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrations/index.html">集成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orgs/index.html">Orgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise/index.html">npm 企业版</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">CLI文档</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">npm-docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">入门</a> &raquo;</li>
        
      <li>配置双因素身份验证</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/getting-started/configuring-two-factor-authentication.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configuring-two-factor-authentication">
<h1>配置双因素身份验证<a class="headerlink" href="#configuring-two-factor-authentication" title="永久链接至标题">¶</a></h1>
<p>您可以在npm用户帐户上启用双因素身份验证（2FA），以防止对您的帐户和软件包进行未经授权的访问。</p>
<p>Prerequisites
Before you enable 2FA on your npm user account, you must:</p>
<p>Update your npm client to version 5.5.1 or higher.
Install an authenticator application that can generate one-time passwords (such as Authy or Google Authenticator) on a mobile device or second computer that will always be available when you work in your npm account.
Note: npm does not accept SMS (text-to-phone) as a 2FA method.
Configuring 2FA on the web
Enabling 2FA on the web
Log in to npm with your user account. npm login dialog with username and password fields left blank
In the upper right corner of the page, click your profile picture, then click Profile Settings. npm avatar menu with selector over profile settings list item
On the profile settings page, under “Two Factor Authentication”, click Enable 2FA. enable 2FA button
On the 2FA settings page, select the mode you would like to enable. For more information, see “Two-factor authentication modes on npm”. authorization and publishing radio button selected
Click Submit. submit button
Open your authenticator application on your phone, and, on the two-step verification page, scan the QR code with your phone.
Enter the code generated by the app, then click Verify. verify button for 2fa authentication code form
On the recovery code page, copy the recovery codes to your computer or other safe location that is not your second factor device. We recommend using a password manager to save your recovery codes. If you are unable to access your phone, you will need to enter a recovery code when prompted for a one-time password.
Click Go back to settings. go back to settings button
Removing 2FA on the web
If you have 2FA enabled, you can remove it from your profile settings page.</p>
<p>Log in to npm with your user account. npm login dialog with username and password fields left blank
In the upper right corner of the page, click your profile picture, then click Profile Settings. npm avatar menu with selector over profile settings list item
On the profile settings page, under “Two Factor Authentication”, click Modify 2FA. modify 2fa button
On the 2FA settings page, under “What should we protect?”, select “Disable”. disable radio button selected
Click Submit. submit button
Configuring 2FA from the command line
Enabling 2FA from the command line
Note: Settings you configure on the command line will also apply to your profile settings on the npm website.
On the command line, type the npm profile command along with the option for the 2FA mode you want to enable:
To enable 2FA for authorization and writes, type:
npm profile enable-2fa auth-and-writes
To enable 2FA for authorization only, type:
npm profile enable-2fa auth-only
To add npm to your authenticator application, using the device with the app, you can either:
scan the QR code displayed on the command line.
type the number displayed below the QR code.
When prompted to add an OTP code from your authenticator, on the command line, enter a one-time password generated by your authenticator app.
Sending a one-time password from the command line
If you have enabled 2FA auth-and-writes, you will need to send the OTP from the command line for certain commands to work. To do this, append –otp=123456 (where 123456 is the code generated by your authenticator) at the end of the command. Here are a few examples:</p>
<p>npm publish [&lt;tarball&gt;|&lt;folder&gt;][–tag &lt;tag&gt;] –otp=123456
npm owner add &lt;user &gt; –otp=123456
npm owner rm &lt;user&gt; –otp=123456
npm dist-tags add &lt;pkg&gt;&#64;&lt;version&gt; [&lt;tag&gt;] –otp=123456
npm access edit [&lt;package&gt;) –otp=123456
npm unpublish [&lt;&#64;scope&gt;/]&lt;pkg&gt;[&#64;&lt;version&gt;] –otp=123456
Removing 2FA from the command line
On the command line, type the following command:
npm profile disable-2fa
When prompted, enter your npm password:</p>
<blockquote>
<div><p>&gt; npm password:</p>
</div></blockquote>
<p>When prompted for a one-time password, enter a password from your authenticator app:
&gt;Enter one-time password from your authenticator: 123456
Resolving OTP errors
If you are entering what seems to be a valid OTP but you see an error, be sure that you are using the correct authenticator account. If you have multiple authenticator accounts, using an OTP from the wrong account will cause an error.</p>
<p>If you see an error when you enter a valid OTP, check that you are using the correct authenticator account.</p>
<p>此外，在禁用后重置2fa时，身份验证器可能会创建具有相同名称的第二个帐户。请参阅身份验证器文档以删除旧帐户。</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="recovering-your-2fa-enabled-account.html" class="btn btn-neutral float-right" title="恢复已启用2FA的帐户" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="about-two-factor-authentication.html" class="btn btn-neutral float-left" title="关于双因素身份验证" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, BandCap

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
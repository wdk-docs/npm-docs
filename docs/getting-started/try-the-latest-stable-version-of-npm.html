
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>试试最新稳定版的npm &#8212; npm-docs 6.9.1 文档</title>
    <link rel="stylesheet" href="../_static/sphinx13.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>

    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="包和模块" href="../packages-and-modules/index.html" />
    <link rel="prev" title="尝试最新的稳定版节点" href="try-the-latest-stable-version-of-node.html" />
<link rel="canonical" href="http://www.sphinx-doc.org/en/master/getting-started/try-the-latest-stable-version-of-npm.html" />

<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet" type="text/css" />
 
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
  
</style>
<script type="text/javascript">
  // intelligent scrolling of the sidebar content
  $(window).scroll(function() {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
      // yes: easy case -- always keep at the top
      sb.css('top', $u.min([$u.max([0, wintop - offset - 10]), $(document).height() - sbh - 200]));
    } else {
      // no: only scroll if top/bottom edge of sidebar is at
      // top/bottom edge of window
      if (curtop > wintop && curbot > winbot) {
        sb.css('top', $u.max([wintop - offset - 10, 0]));
      } else if (curtop < wintop && curbot < winbot) {
        sb.css('top', $u.min([winbot - sbh - offset - 20, $(document).height() - sbh - 200]));
      }
    }
  });
</script> 
  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../index.html">主页</a></li>
    <li><a href="../about-npm.html">关于</a></li>
    <li><a href="index.html">入门</a></li>
    <li><a href="../packages-and-modules/index.html">包和模块</a></li>
    <li><a href="../cli/index.html">指令</a></li>
    <li><a href="../integrations/index.html">集成</a></li>
    <li><a href="../orgs/index.html">组织</a></li>
    <li><a href="../enterprise/index.html">企业版</a></li>
  </ul>
  <div>
    <a href="../index.html">
      <!-- <img src="../_static/wxaheader.png" alt="wxa" /> -->
      <svg viewBox="0 0 780 250">
        <path
          fill="#231F20"
          d="M240,250h100v-50h100V0H240V250z M340,50h50v100h-50V50z M480,0v200h100V50h50v150h50V50h50v150h50V0H480z M0,200h100V50h50v150h50V0H0V200z"
        ></path>
      </svg>
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../packages-and-modules/index.html" title="包和模块"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="try-the-latest-stable-version-of-node.html" title="尝试最新的稳定版节点"
             accesskey="P">上一页</a> |</li>
<li><a href="../index.html">主页</a>&#160;|</li>
<li><a href="../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">入门</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">试试最新稳定版的npm</a><ul>
<li><a class="reference internal" href="#see-what-version-of-npm-youre-running">See what version of npm you’re running</a></li>
<li><a class="reference internal" href="#upgrading-on-nix-osx-linux-etc">Upgrading on *nix (OSX, Linux, etc.)</a></li>
<li><a class="reference internal" href="#upgrading-on-windows">Upgrading on Windows</a><ul>
<li><a class="reference internal" href="#a-brief-note-on-the-built-in-windows-configuration">A brief note on the built-in Windows configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="try-the-latest-stable-version-of-node.html"
                        title="上一章">尝试最新的稳定版节点</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="../packages-and-modules/index.html"
                        title="下一章">包和模块</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/getting-started/try-the-latest-stable-version-of-npm.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="try-the-latest-stable-version-of-npm">
<h1>试试最新稳定版的npm<a class="headerlink" href="#try-the-latest-stable-version-of-npm" title="永久链接至标题">¶</a></h1>
<div class="section" id="see-what-version-of-npm-youre-running">
<h2>See what version of npm you’re running<a class="headerlink" href="#see-what-version-of-npm-youre-running" title="永久链接至标题">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="o">-</span><span class="n">v</span>
</pre></div>
</div>
</div>
<div class="section" id="upgrading-on-nix-osx-linux-etc">
<h2>Upgrading on <a href="#id1"><span class="problematic" id="id2">*</span></a>nix (OSX, Linux, etc.)<a class="headerlink" href="#upgrading-on-nix-osx-linux-etc" title="永久链接至标题">¶</a></h2>
<p>(You may need to prefix these commands with sudo, especially on Linux, or OS X if you installed Node using its default installer.)</p>
<p>您可以使用升级到最新版本的npm:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span> <span class="o">-</span><span class="n">g</span> <span class="n">npm</span><span class="nd">@latest</span>
</pre></div>
</div>
<p>Or upgrade to the most recent release:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span> <span class="o">-</span><span class="n">g</span> <span class="n">npm</span><span class="nd">@next</span>
</pre></div>
</div>
</div>
<div class="section" id="upgrading-on-windows">
<h2>Upgrading on Windows<a class="headerlink" href="#upgrading-on-windows" title="永久链接至标题">¶</a></h2>
<p>Microsoft wrote a small command line tool to automate the steps below. You can go and download it here - or stick with the manual path outlined below.</p>
<p>默认情况下，npm与节点一起安装</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">Files</span> <span class="p">(</span><span class="n">x86</span><span class="p">)</span>\<span class="n">nodejs</span>
</pre></div>
</div>
<p>npm的全局安装包（可能包括npm本身）分别存储在用户特定的目录中（目前是</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="o">&lt;</span><span class="n">username</span><span class="o">&gt;</span>\<span class="n">AppData</span>\<span class="n">Roaming</span>\<span class="n">npm</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<p>因为安装程序放了</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">Files</span> <span class="p">(</span><span class="n">x86</span><span class="p">)</span>\<span class="n">nodejs</span>
</pre></div>
</div>
<p>before</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="o">&lt;</span><span class="n">username</span><span class="o">&gt;</span>\<span class="n">AppData</span>\<span class="n">Roaming</span>\<span class="n">npm</span>
</pre></div>
</div>
<p>在你的PATH上，它将始终使用与节点一起安装的npm版本，而不是使用npm -g install npm &#64; &lt;version&gt;安装的npm版本。</p>
<p>要解决此问题，您可以执行以下操作之一:</p>
<ul>
<li><p>Option 1: edit your Windows installation’s PATH to put %appdata%npm before %ProgramFiles%nodejs. Remember that you’ll need to restart cmd.exe (and potentially restart Windows) when you make changes to PATH or how npm is installed.</p></li>
<li><p>Option 2: remove both of</p>
<ul class="simple">
<li><p>%ProgramFiles%nodejsnpm</p></li>
<li><p>%ProgramFiles%nodejsnpm.cmd</p></li>
</ul>
</li>
<li><p>Option 3: Navigate to %ProgramFiles%nodejsnode_modulesnpm and copy the npmrcfile to another folder or the desktop. Then open cmd.exe and run the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">%</span><span class="n">ProgramFiles</span><span class="o">%</span>\<span class="n">nodejs</span>
<span class="n">npm</span> <span class="n">install</span> <span class="n">npm</span><span class="nd">@latest</span>
</pre></div>
</div>
</li>
</ul>
<p>If you installed npm with the node.js installer, after doing one of the previous steps, do the following.</p>
<ul class="simple">
<li><p>Option 1 or 2</p>
<ul>
<li><p>Go into %ProgramFiles%nodejsnode_modulesnpm and copy the file named npmrc in the new npm folder, which should be %appdata%npmnode_modulesnpm. This will tell the new npm where the global installed packages are.</p></li>
</ul>
</li>
<li><p>Option 3</p>
<ul>
<li><p>Copy the npmrc file back into %ProgramFiles%nodejsnode_modulesnpm</p></li>
</ul>
</li>
</ul>
<p>(See also the point below if you’re running Windows 7 and don’t have the directory %appdata%npm.)</p>
<div class="section" id="a-brief-note-on-the-built-in-windows-configuration">
<h3>A brief note on the built-in Windows configuration<a class="headerlink" href="#a-brief-note-on-the-built-in-windows-configuration" title="永久链接至标题">¶</a></h3>
<p>The Node installer installs, directly into the npm folder, a special piece of Windows-specific configuration that tells npm where to install global packages. When npm is used to install itself, it is supposed to copy this special builtin configuration into the new install. There was a bug in some versions of npm that kept this from working, so you may need to go in and fix that up by hand. Run the following command to see where npm will install global packages to verify it is correct.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">config</span> <span class="n">get</span> <span class="n">prefix</span> <span class="o">-</span><span class="n">g</span>
</pre></div>
</div>
<p>If it isn’t set to &lt;X&gt;:Users&lt;user&gt;AppDataRoamingnpm, you can run the below command to correct it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">config</span> <span class="nb">set</span> <span class="n">prefix</span> <span class="s2">&quot;$</span><span class="si">{APPDATA}</span><span class="s2">/npm&quot;</span> <span class="o">-</span><span class="n">g</span>
</pre></div>
</div>
<p>Incidentally, if you would prefer that packages not be installed to your roaming profile (because you have a quota on your shared network, or it makes logging in or out from a domain sluggish), you can put it in your local app data instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">config</span> <span class="nb">set</span> <span class="n">prefix</span> <span class="s2">&quot;$</span><span class="si">{LOCALAPPDATA}</span><span class="s2">/npm&quot;</span> <span class="o">-</span><span class="n">g</span>
</pre></div>
</div>
<p>…as well as copying %APPDATA%npm to %LOCALAPPDATA%npm (and updating your %PATH%, of course).</p>
<p>在npm工作的每个人都知道这个过程很复杂，而且我们正在努力使它变得更简单。敬请关注。</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="../packages-and-modules/index.html" title="包和模块"
             >下一页</a> |</li>
        <li class="right" >
          <a href="try-the-latest-stable-version-of-node.html" title="尝试最新的稳定版节点"
             >上一页</a> |</li>
<li><a href="../index.html">主页</a>&#160;|</li>
<li><a href="../contents.html">文档</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >入门</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2019, BandCap.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.0+/8aaa12d 创建。
    </div>
  </body>
</html>